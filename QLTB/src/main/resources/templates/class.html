<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Index</title>
</head>
<body>
	<!-- include your slidebar.jsp content here -->
	<div th:replace="fragments/header :: header"></div>
	<div th:replace="fragments/slidebar :: slidebar"></div>
	<section class="home">
		<div class="text">Lớp</div>
		<div id="toast" th:class="${message}"></div>

		<div class="container">
			<button class="btn-add btn btn-primary" style="margin-left: 9%;"
				onclick="showBuyTicket()">
				<i class="fa-solid fa-plus"></i> THÊM
			</button>

			<div class="tag-paging">
				<div
					th:replace="fragments/pagination :: paging(${pagedListHolder}, @{/class(p=${'~'})})"></div>
			</div>
			<div class="d-flex justify-content-center align-items-center mt-4">
				<div class="row col-lg-10">
					<table class="table" id="tb1"
						style="vertical-align: middle; text-align: center;">
						<thead>
							<tr>
								<th scope="col">STT</th>
								<th scope="col">Mã Lớp</th>
								<th scope="col">Sĩ Số</th>
								<th scope="col">GVCN</th>
								<th scope="col">Mã GVCN</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="pd, i : ${pagedListHolder.pageList}">
								<td th:text="${i.index + 1}"></td>
								<td th:text="${pd.maLop}"></td>
								<td th:text="${pd.siso}"></td>
								<td th:text="${pd.hotenGV}"></td>
								<td th:text="${pd.maGV}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<div th:replace="fragments/footer :: footer"></div>
	</section>

	<div class="modal js-modal" th:class="${statusmodal}">
		<div class="modal-container js-modal-contain" style="width: 820px;">
			<div class="modal-close js-modal-close">
				<i class="fa-solid fa-xmark"></i>
			</div>
			<header class="modal-header">
				<i class="ti-bag modal-heading-icon"></i> THÊM LỚP
			</header>
			<div class="modal-body">
				<form th:object="${Lop}" method="post">
				    <input type="hidden" th:field="*{maLop}" />
				
				    <label for="quantity-ticket" class="modal-lable">
				        <i class="ti-shopping-cart"></i> Sĩ Số
				    </label>
				    <input type="number" th:field="*{siso}" min="0" max="45" class="modal-ip" required 
				           oninvalid="setCustomValidity('Sĩ số phải nằm trong khoảng từ 0 đến 45')" 
				           onchange="try{setCustomValidity('')}catch(e){}" />
				
				    <label for="quantity-ticket" class="modal-lable">
				        <i class="ti-shopping-cart"></i> Họ Tên Giáo Viên
				    </label>
				    <input type="text" th:field="*{hotenGV}" class="modal-ip" required 
				           oninvalid="setCustomValidity('Vui lòng nhập họ tên giáo viên')" 
				           onchange="try{setCustomValidity('')}catch(e){}" />
				
				    <label for="quantity-ticket" class="modal-lable">
				        <i class="ti-shopping-cart"></i> Mã Giáo Viên
				    </label>
				    <input type="text" th:field="*{maGV}" class="modal-ip" required 
				           oninvalid="setCustomValidity('Vui lòng nhập mã giáo viên')" 
				           onchange="try{setCustomValidity('')}catch(e){}" />
				
				    <button id="btnsave" name="btnadd" class="btn-modal">THÊM</button>
				</form>
				<footer class="modal-footer"> </footer>
			</div>
		</div>
	</div>

	<script th:src="/assets/dist/js/script.js"></script> 
	<script>
        // toast thông báo
        var tb = document.getElementById('toast');
        if (tb.classList.contains('success')) {
            showtoast({
                title : "Thành công!",
                message : "Thêm lớp tín chỉ thành công.",
                type : "success",
                duration : 3000
            });
        } else if (tb.classList.contains('error')) {
            showtoast({
                title : "Lỗi!",
                message : "${myparam}! </br> Vui lòng thử lại.",
                type : "error",
                duration : 3000
            });
        }
    </script>
</body>
</html>